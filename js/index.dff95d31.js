var e=Object.defineProperty,o=Object.defineProperties,i=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,r=(o,i,s)=>i in o?e(o,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[i]=s,a=(e,o)=>{for(var i in o||(o={}))t.call(o,i)&&r(e,i,o[i]);if(s)for(var i of s(o))n.call(o,i)&&r(e,i,o[i]);return e},l=(e,s)=>o(e,i(s)),j=(e,o,i)=>new Promise((s,t)=>{var n=e=>{try{a(i.next(e))}catch(o){t(o)}},r=e=>{try{a(i.throw(e))}catch(o){t(o)}},a=e=>e.done?s(e.value):Promise.resolve(e.value).then(n,r);a((i=i.apply(e,o)).next())});import{g as c,j as p,s as h,k as I,l as b,V as d,T as u,A as Z,m as J,B as G,n as g,t as L}from"./vendors.c1668feb.js";const m=()=>{const[e,o]=c.useState({isLoggedIn:!1});c.useEffect(()=>{const e=()=>j(void 0,null,function*(){try{const e=p("token"),i=p("userId");console.log(e,i),o(e&&i?{isLoggedIn:!0,userId:i,token:e}:{isLoggedIn:!1})}catch(e){console.error("\u68c0\u67e5\u767b\u5f55\u72b6\u6001\u5931\u8d25:",e),o({isLoggedIn:!1})}});e()},[]);const i=(e,i)=>{h("userId",e),h("token",i),o({isLoggedIn:!0,userId:e,token:i})},s=()=>{I("userId"),I("token"),o({isLoggedIn:!1})};return l(a({},e),{login:i,logout:s})},x=()=>{const[e,o]=c.useState(""),[i,s]=c.useState("");c.useState({});const{login:t}=m();c.useEffect(()=>{},[]);const n=o=>{var s;if(null==(s=o.preventDefault)||s.call(o),!e||!i)return void g({title:"\u8bf7\u8f93\u5165\u8d26\u53f7\u548c\u5bc6\u7801",icon:"none"});const n="eyJhZG1pbjAxIjoibHJxZHJ6MXgiLCJhZG1pbjAyIjoiSUJoeWFpRFAiLCJhZG1pbjAzIjoiU1pZVXo2aGYiLCJhZG1pbjA0IjoiNWNqa3o2bHgiLCJhZG1pbjA1IjoiTXRMdHp4N0EiLCJhZG1pbjA2IjoiaFlxTm91cXciLCJhZG1pbjA3IjoiQWE1NUdhbDQiLCJhZG1pbjA4IjoiSmRqS1RtVDEiLCJhZG1pbjA5Ijoia0RtM1haZEciLCJhZG1pbjEwIjoiNWxFYUc1VlEiLCJhZG1pbjExIjoidFpGQldrbzYiLCJhZG1pbjEyIjoiaE56OE5lVVIiLCJhZG1pbjEzIjoiT2hFWWxQTVMiLCJhZG1pbjE0IjoiYXpEVU1GZEEiLCJhZG1pbjE1IjoieFRENkM3cjIiLCJhZG1pbjE2IjoiRXB3VEk0UDAiLCJhZG1pbjE3IjoidUxKVHFmZzciLCJhZG1pbjE4IjoibjNDUG1wZUsiLCJhZG1pbjE5IjoiWlB6Y3NSZnEiLCJhZG1pbjIwIjoidkMyRWxKYlIiLCJhZG1pbjIxIjoiRWZxMEJrYmMiLCJhZG1pbjIyIjoiTlJDQlhGTWIiLCJhZG1pbjIzIjoiRkt3NlhWYWgiLCJhZG1pbjI0IjoiOHVjcTNJVjAiLCJhZG1pbjI1IjoiV2x3N0QxRjIiLCJhZG1pbjI2IjoieXdZMDFXR1oiLCJhZG1pbjI3IjoiSEY0VlVDd1QiLCJhZG1pbjI4IjoiMEFjQVdRaksiLCJhZG1pbjI5IjoicUZKbzRPc0EiLCJhZG1pbjMwIjoiMm5DdGExRkgifQ==";let r={};try{r=JSON.parse(atob(n))}catch(a){console.error("\u89e3\u5bc6\u5931\u8d25",a)}if(r[e]&&r[e]===i){const e="user_"+Date.now(),o="token_"+Date.now();t(e,o),g({title:"\u767b\u5f55\u6210\u529f",icon:"success"}),setTimeout(()=>{L.redirectTo({url:"/pages/index/index"})},1e3)}else g({title:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u8d26\u53f7\u5bc6\u7801",icon:"none"})};return b.jsx(d,{className:"login-container",children:b.jsxs(d,{className:"login-card",children:[b.jsxs(d,{className:"login-header",children:[b.jsx(u,{className:"title",children:"\u8425\u8fd0\u8d27\u8f66\u62a5\u5e9f\u66f4\u65b0"}),b.jsx(u,{className:"subtitle",children:"\u7528\u6237\u767b\u5f55"})]}),b.jsx(Z,{onSubmit:n,children:b.jsxs(d,{className:"login-form",children:[b.jsx(d,{className:"input-wrapper",children:b.jsx(J,{name:"username",title:"",type:"text",placeholder:"\u8bf7\u8f93\u5165\u8d26\u53f7",value:e,onChange:e=>o(e),border:!1,className:"login-input"})}),b.jsx(d,{className:"input-wrapper",children:b.jsx(J,{name:"password",title:"",type:"password",placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",value:i,onChange:e=>s(e),border:!1,className:"login-input"})}),b.jsx(G,{className:"login-button",formType:"submit",children:"\u767b\u5f55"})]})}),b.jsx(d,{className:"login-footer",children:b.jsx(u,{className:"footer-text",children:"\xa9 2025 \u8425\u8fd0\u8d27\u8f66\u62a5\u5e9f\u66f4\u65b0\u7cfb\u7edf"})})]})})};export{x as default};
